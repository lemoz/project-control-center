# PCC Environment Configuration
# Copy this to .env and fill in your values

# =============================================================================
# REQUIRED
# =============================================================================

# OpenAI API key for Codex/LLM calls
OPENAI_API_KEY=your-api-key-here

# =============================================================================
# SERVER
# =============================================================================

# PCC mode (local or cloud)
# PCC_MODE=local

# Database path (preferred, default: ./control-center.db)
# PCC_DATABASE_PATH=./control-center.db

# Server port (default: 4010)
CONTROL_CENTER_PORT=4010

# Server host (default: localhost)
CONTROL_CENTER_HOST=localhost

# Database path (default: ./control-center.db)
# CONTROL_CENTER_DB_PATH=./control-center.db

# Repo root for scanning (overrides CONTROL_CENTER_SCAN_ROOTS)
# PCC_REPOS_PATH=/path/to/repos

# Project directories to scan (comma-separated)
# CONTROL_CENTER_SCAN_ROOTS=/Users/you/projects

# =============================================================================
# CODEX / LLM
# =============================================================================

# Path to codex binary (default: searches PATH)
# CONTROL_CENTER_CODEX_PATH=/usr/local/bin/codex

# Model for builder/reviewer (default: gpt-4)
# CONTROL_CENTER_CODEX_MODEL=gpt-4

# Model for chat (default: same as CODEX_MODEL)
# CONTROL_CENTER_CHAT_CODEX_MODEL=gpt-4

# =============================================================================
# RUN LIMITS
# =============================================================================

# Max builder iterations per run phase (default: 10)
# CONTROL_CENTER_MAX_BUILDER_ITERATIONS=10

# Max total run iterations (default: 10)
# CONTROL_CENTER_MAX_RUN_ITERATIONS=10

# Remote test timeout in seconds (default: 900)
# CONTROL_CENTER_REMOTE_TEST_TIMEOUT_SEC=900

# =============================================================================
# VM / REMOTE EXECUTION
# =============================================================================

# Path to gcloud CLI
# CONTROL_CENTER_GCLOUD_PATH=/usr/local/bin/gcloud

# Path to ssh binary
# CONTROL_CENTER_SSH_PATH=/usr/bin/ssh

# Path to rsync binary
# CONTROL_CENTER_RSYNC_PATH=/usr/bin/rsync

# GCP image settings
# CONTROL_CENTER_GCP_IMAGE_PROJECT=your-gcp-project
# CONTROL_CENTER_GCP_IMAGE_FAMILY=pcc-runner

# SSH user for VM connections
# CONTROL_CENTER_GCP_SSH_USER=runner

# VM repo root on remote
# CONTROL_CENTER_VM_REPO_ROOT=/home/runner/repos

# VM codex auth directory on remote (default: derived from VM_REPO_ROOT parent)
# CONTROL_CENTER_VM_CODEX_AUTH_PATH=/home/runner/.codex

# VM workspace cleanup cron path
# CONTROL_CENTER_VM_CLEANUP_CRON_PATH=/etc/cron.hourly/pcc-cleanup-workspaces

# VM timeouts (milliseconds/seconds)
# CONTROL_CENTER_VM_SSH_TIMEOUT_SEC=30
# CONTROL_CENTER_VM_SSH_RETRY_MS=5000
# CONTROL_CENTER_VM_RSYNC_TIMEOUT_SEC=300

# Use local VM metrics for /observability/vm-health (set on hosting VM)
# CONTROL_CENTER_VM_HEALTH_LOCAL=false

# =============================================================================
# CORS / NETWORK
# =============================================================================

# Allow LAN connections (default: false)
# CONTROL_CENTER_ALLOW_LAN=false

# Allow remote access to /health and /observability/vm-health without opening the full API
# CONTROL_CENTER_ALLOW_REMOTE_HEALTH=false

# Optional shared token for health endpoints (query param `token` or `x-health-token` header)
# CONTROL_CENTER_HEALTH_TOKEN=your-health-token

# Allow all CORS origins (default: false, use for dev only)
# CONTROL_CENTER_CORS_ALLOW_ALL=false

# Allowed origins (comma-separated)
# CONTROL_CENTER_ALLOWED_ORIGINS=http://localhost:5173

# =============================================================================
# ELEVENLABS / VOICE
# =============================================================================

# ElevenLabs agent ID for the landing page voice widget (client-side)
# NEXT_PUBLIC_ELEVENLABS_AGENT_ID=your-agent-id

# Data residency / server location for ElevenLabs conversations
# Options: us, eu-residency, in-residency, global
# NEXT_PUBLIC_ELEVENLABS_SERVER_LOCATION=us

# Shared secret for ElevenLabs webhook HMAC verification (server-side)
# CONTROL_CENTER_ELEVENLABS_WEBHOOK_SECRET=your-webhook-secret

# ElevenLabs API key for minting signed URLs (server-side)
# CONTROL_CENTER_ELEVENLABS_API_KEY=your-api-key

# ElevenLabs voice ID for ambient narration (server-side)
# CONTROL_CENTER_ELEVENLABS_NARRATION_VOICE_ID=your-voice-id

# Optional narration model override (default: eleven_turbo_v2)
# CONTROL_CENTER_ELEVENLABS_NARRATION_MODEL_ID=eleven_turbo_v2

# Signed URL TTL in seconds (default: 300)
# CONTROL_CENTER_ELEVENLABS_SIGNED_URL_TTL_SECONDS=300

# =============================================================================
# SLACK
# =============================================================================

# Slack app credentials
# CONTROL_CENTER_SLACK_CLIENT_ID=your-client-id
# CONTROL_CENTER_SLACK_CLIENT_SECRET=your-client-secret
# CONTROL_CENTER_SLACK_SIGNING_SECRET=your-signing-secret

# Optional redirect URI override (absolute URL)
# CONTROL_CENTER_SLACK_REDIRECT_URI=https://your-host/slack/oauth/callback

# Optional scopes override (comma-separated)
# CONTROL_CENTER_SLACK_SCOPES=chat:write,im:history,im:write,app_mentions:read,channels:history

# Conversation timeout in minutes (default: 10)
# CONTROL_CENTER_SLACK_CONVERSATION_TIMEOUT_MINUTES=10

# =============================================================================
# SMS / TWILIO
# =============================================================================

# Twilio account SID + auth token for SMS
# CONTROL_CENTER_TWILIO_ACCOUNT_SID=your-account-sid
# CONTROL_CENTER_TWILIO_AUTH_TOKEN=your-auth-token
# CONTROL_CENTER_TWILIO_PHONE_NUMBER=+15551234567

# Verify Twilio webhook signature (default: true)
# CONTROL_CENTER_TWILIO_VERIFY_SIGNATURE=true

# Monthly SMS budget in cents (0 disables budget enforcement)
# CONTROL_CENTER_SMS_MONTHLY_BUDGET_CENTS=500

# Rate limit per phone number per hour (default: 30)
# CONTROL_CENTER_SMS_RATE_LIMIT_PER_HOUR=30

# Estimated cost per message in cents (default: 1)
# CONTROL_CENTER_SMS_MESSAGE_COST_CENTS=1

# Conversation timeout in minutes (default: 30)
# CONTROL_CENTER_SMS_CONVERSATION_TIMEOUT_MINUTES=30

# =============================================================================
# MEETING CONNECTOR / RECALL
# =============================================================================

# Recall.ai API key and auth header configuration
# CONTROL_CENTER_RECALL_API_KEY=your-api-key
# CONTROL_CENTER_RECALL_API_HEADER=Authorization
# CONTROL_CENTER_RECALL_API_PREFIX=Bearer

# Optional extra headers as JSON (string values only)
# CONTROL_CENTER_RECALL_HEADERS_JSON={"x-recall-org":"your-org"}

# Recall bot create URL + JSON body template
# Template placeholders: {meeting_url}, {bot_name}, {audio_ws_url},
# {audio_sample_rate}, {audio_channels}, {audio_sample_width}, {audio_frame_ms},
# {audio_format}
# CONTROL_CENTER_RECALL_CREATE_URL=https://api.recall.ai/YOUR_CREATE_ENDPOINT
# CONTROL_CENTER_RECALL_CREATE_BODY={"meeting_url":"{meeting_url}","bot_name":"{bot_name}","audio":{"type":"websocket","url":"{audio_ws_url}"}}

# Recall Output Media controls (optional)
# Template placeholders: {meeting_url}, {bot_id}, {bot_name}, {output_media_url}, {output_media_mode}
# CONTROL_CENTER_RECALL_OUTPUT_MEDIA_URL=https://your-public-host/recall/screen-share
# CONTROL_CENTER_RECALL_OUTPUT_MEDIA_START_URL=https://api.recall.ai/YOUR_OUTPUT_MEDIA_ENDPOINT
# CONTROL_CENTER_RECALL_OUTPUT_MEDIA_START_METHOD=POST
# CONTROL_CENTER_RECALL_OUTPUT_MEDIA_START_BODY={"bot_id":"{bot_id}","output_media":{"screen_share":{"config":{"url":"{output_media_url}","mode":"{output_media_mode}"}}}}
# CONTROL_CENTER_RECALL_OUTPUT_MEDIA_STOP_URL=https://api.recall.ai/YOUR_OUTPUT_MEDIA_STOP_ENDPOINT/{bot_id}
# CONTROL_CENTER_RECALL_OUTPUT_MEDIA_STOP_METHOD=POST
# CONTROL_CENTER_RECALL_OUTPUT_MEDIA_STOP_BODY={"bot_id":"{bot_id}","output_media_id":"{output_media_id}"}

# Recall bot leave (optional)
# CONTROL_CENTER_RECALL_LEAVE_URL=https://api.recall.ai/YOUR_LEAVE_ENDPOINT/{bot_id}
# CONTROL_CENTER_RECALL_LEAVE_METHOD=POST
# CONTROL_CENTER_RECALL_LEAVE_BODY={"bot_id":"{bot_id}"}

# Recall bot status polling (optional)
# CONTROL_CENTER_RECALL_STATUS_URL=https://api.recall.ai/YOUR_STATUS_ENDPOINT/{bot_id}
# CONTROL_CENTER_RECALL_STATUS_METHOD=GET

# Meeting audio WebSocket URL (publicly reachable by Recall.ai)
# CONTROL_CENTER_MEETING_AUDIO_WS_URL=ws://your-host:8765

# Default meeting bot display name
# CONTROL_CENTER_MEETING_BOT_NAME_DEFAULT=PCC Agent

# Recall Output Media telemetry (disabled by default)
# RECALL_TELEMETRY_ENABLED=false
# RECALL_TELEMETRY_TOKEN=your-telemetry-token
# RECALL_TELEMETRY_LOG_PATH=/tmp/recall-output-media.jsonl
# NEXT_PUBLIC_RECALL_TELEMETRY_TOKEN=your-telemetry-token

# =============================================================================
# SCANNING
# =============================================================================

# Max depth for project scanning (default: 3)
# CONTROL_CENTER_SCAN_MAX_DEPTH=3

# Scan cache TTL in milliseconds (default: 60000)
# CONTROL_CENTER_SCAN_TTL_MS=60000

# Directories to ignore during scanning (comma-separated, added to defaults)
# CONTROL_CENTER_IGNORE_DIRS=vendor,dist

# =============================================================================
# DEVELOPMENT
# =============================================================================

# Use TypeScript worker directly (default: false, uses compiled JS)
# CONTROL_CENTER_USE_TS_WORKER=false

# Mark in-progress runs as failed on server restart (default: true)
# CONTROL_CENTER_FAIL_IN_PROGRESS_ON_RESTART=true
